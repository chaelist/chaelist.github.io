<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<link rel="shortcut icon" href="https://chaelist.github.io/assets/images/cat.png" type="image/x-icon">
<link rel="stylesheet" href="https://chaelist.github.io/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-QJ6H6890X3"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-QJ6H6890X3'); </script> <script type="text/javascript" src="https://chaelist.github.io/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://chaelist.github.io/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Selenium | chaelist</title>
<meta name="generator" content="Jekyll v4.2.1">
<meta property="og:title" content="Selenium">
<meta property="og:locale" content="en_US">
<meta name="description" content="chaelist’s blog">
<meta property="og:description" content="chaelist’s blog">
<link rel="canonical" href="https://chaelist.github.io/docs/webscraping/selenium/">
<meta property="og:url" content="https://chaelist.github.io/docs/webscraping/selenium/">
<meta property="og:site_name" content="chaelist">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Selenium"> <script type="application/ld+json"> {"description":"chaelist’s blog","url":"https://chaelist.github.io/docs/webscraping/selenium/","@type":"WebPage","headline":"Selenium","@context":"https://schema.org"}</script>
</head>
<body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewbox="0 0 24 24"><title>Link</title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewbox="0 0 24 24"><title>Search</title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewbox="0 0 24 24"><title>Menu</title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewbox="0 0 24 24"><title>Expand</title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewbox="0 0 24 24"><title>Document</title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar">
<div class="site-header"> <a href="https://chaelist.github.io/" class="site-title lh-tight"> chaelist </a> <a href="#" id="menu-button" class="site-button"> <svg viewbox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a>
</div>
<nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list">
<li class="nav-list-item"><a href="https://chaelist.github.io/" class="nav-list-link">Home</a></li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/python_basics" class="nav-list-link">Python 기초</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/python_basics/numbers_list_string/" class="nav-list-link">Numbers, List, String</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/python_basics/dictionary_tuple_set/" class="nav-list-link">Dictionary, Tuple, Set</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/python_basics/controlflow/" class="nav-list-link">Control Flow (제어문)</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/python_basics/function_module/" class="nav-list-link">Function &amp; Module</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/data_handling" class="nav-list-link">Data Handling</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/data_handling/file_input_output/" class="nav-list-link">파일 읽고 쓰기</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/data_handling/file_folder_handling/" class="nav-list-link">파일 &amp; 폴더 다루기</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/data_handling/regular_expressions/" class="nav-list-link">Regular Expressions</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/data_handling/useful_functions/" class="nav-list-link">유용한 Python 내장함수</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/data_handling/datetime/" class="nav-list-link">Datetime 다루기</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/numpy" class="nav-list-link">Numpy</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/numpy/numpy_basics/" class="nav-list-link">Numpy 기초</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/numpy/numpy_arithmetics/" class="nav-list-link">Numpy 연산과 통계</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/pandas" class="nav-list-link">Pandas</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/pandas/pandas_basics/" class="nav-list-link">Pandas 기초</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/pandas/pandas_data_modifying/" class="nav-list-link">Pandas 데이터 가공</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/pandas/pandas_data_analysis/" class="nav-list-link">Pandas 데이터 분석</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/pandas/pandas_merge_group/" class="nav-list-link">Pandas 데이터 결합 &amp; 요약</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/pandas/pandas_str_dt_con/" class="nav-list-link">Pandas str, dt, 조건문</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/visualization" class="nav-list-link">데이터 시각화</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/visualization/pandas_plot/" class="nav-list-link">Pandas plot() 함수</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/visualization/seaborn/" class="nav-list-link">Seaborn</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/visualization/matplotlib/" class="nav-list-link">Matplotlib</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/visualization/plotly/" class="nav-list-link">Plotly</a></li>
</ul>
</li>
<li class="nav-list-item active">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/webscraping" class="nav-list-link">Web Scraping</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/webscraping/requests_beautifulsoup/" class="nav-list-link">Requests &amp; BeautifulSoup</a></li>
<li class="nav-list-item active"><a href="https://chaelist.github.io/docs/webscraping/selenium/" class="nav-list-link active">Selenium</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/webscraping/image_api/" class="nav-list-link">Image 수집 &amp; API 활용</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/webscraping/twitter_api/" class="nav-list-link">Twitter 데이터 수집</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/webscraping/app_review/" class="nav-list-link">App Review 수집</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/text_analysis" class="nav-list-link">Text 분석</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/text_analysis/english_text/" class="nav-list-link">빈도 분석 (English)</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/text_analysis/korean_text/" class="nav-list-link">빈도 분석 (한글)</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/network_analysis" class="nav-list-link">Network Analysis</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/network_analysis/network_basics/" class="nav-list-link">Network Analysis 기초</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/network_analysis/social_network/" class="nav-list-link">Social Network Analysis</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/network_analysis/semantic_network/" class="nav-list-link">Semantic Network Analysis</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/ml_basics" class="nav-list-link">Machine Learning 기초</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_basics/linear_regression/" class="nav-list-link">기초 &amp; Linear Regression</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_basics/classification1/" class="nav-list-link">Classification 1</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_basics/classification2/" class="nav-list-link">Classification 2</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_basics/clustering/" class="nav-list-link">Clustering</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_basics/deep_learning/" class="nav-list-link">Deep Learning 기초</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/ml_advanced" class="nav-list-link">Machine Learning 심화</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_advanced/regularization/" class="nav-list-link">Regularization</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_advanced/preprocessing/" class="nav-list-link">데이터 전처리</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_advanced/model_selection/" class="nav-list-link">Model Selection</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/ml_application" class="nav-list-link">Machine Learning 응용</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/sentiment_analysis/" class="nav-list-link">영화 리뷰 감성 분석</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/news_clustering/" class="nav-list-link">뉴스 기사 Clustering</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/time_series/" class="nav-list-link">시계열 데이터 예측</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/topic_modeling/" class="nav-list-link">Topic Modeling (LDA)</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/logistics/" class="nav-list-link">물류 최적화</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/ml_application/image_processing/" class="nav-list-link">이미지 / 동영상 처리</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/sql" class="nav-list-link">SQL</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/select_basics/" class="nav-list-link">데이터 조회 기초</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/select_advanced/" class="nav-list-link">데이터 조회 심화</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/join_subq_view/" class="nav-list-link">조인, 서브쿼리, 뷰</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/db_table_create/" class="nav-list-link">데이터베이스 &amp; 테이블 구축</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/modify_table/" class="nav-list-link">테이블 가공</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/sql/foreign_key_pymysql/" class="nav-list-link">Foreign Key &amp; Python 연결</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://chaelist.github.io/docs/kaggle" class="nav-list-link">Kaggle Dataset EDA</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/youtube_trending/" class="nav-list-link">YouTube Trending Videos</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/amazon_bestsellers/" class="nav-list-link">Amazon Bestselling Books</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/customer_churn/" class="nav-list-link">Telco Customer Churn</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/kiva_crowdfunding/" class="nav-list-link">Kiva Crowdfunding 1</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/kiva_crowdfunding2/" class="nav-list-link">Kiva Crowdfunding 2</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/stem_salaries/" class="nav-list-link">STEM Salaries 1</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/stem_salaries2/" class="nav-list-link">STEM Salaries 2</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/uk_ecommerce/" class="nav-list-link">UK Ecommerce Data 1</a></li>
<li class="nav-list-item "><a href="https://chaelist.github.io/docs/kaggle/uk_ecommerce2/" class="nav-list-link">UK Ecommerce Data 2</a></li>
</ul>
</li>
</ul></nav><footer class="site-footer"></footer>
</div>
<div class="main" id="top">
<div id="main-header" class="main-header"><div class="search">
<div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search chaelist" aria-label="Search chaelist" autocomplete="off"> <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
</div>
<div id="search-results" class="search-results"></div>
</div></div>
<div id="main-content-wrap" class="main-content-wrap">
<nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list">
<li class="breadcrumb-nav-list-item"><a href="https://chaelist.github.io/docs/webscraping">Web Scraping</a></li>
<li class="breadcrumb-nav-list-item"><span>Selenium</span></li>
</ol></nav><div id="main-content" class="main-content" role="main">
<h1 class="no_toc" id="selenium"> <a href="#selenium" aria-labelledby="selenium" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Selenium</h1>
<p><br></p>
<details open=""> <summary class="text-delta"> Table of contents </summary><ol id="markdown-toc">
<li>
<a href="#selenium-%EA%B8%B0%EC%B4%88" id="markdown-toc-selenium-기초">Selenium 기초</a><ol>
<li><a href="#driver-%EC%8B%A4%ED%96%89-%EB%B0%8F-%EC%A2%85%EB%A3%8C" id="markdown-toc-driver-실행-및-종료">driver 실행 및 종료</a></li>
<li><a href="#%EC%9B%B9%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%A0%9C%EC%96%B4%ED%95%98%EA%B8%B0" id="markdown-toc-웹브라우저-제어하기">웹브라우저 제어하기</a></li>
<li><a href="#find_elements" id="markdown-toc-find_elements">find_element(s)</a></li>
<li><a href="#click" id="markdown-toc-click">click()</a></li>
<li><a href="#send_keys" id="markdown-toc-send_keys">send_keys()</a></li>
</ol>
</li>
<li>
<a href="#selenium-%EC%B6%94%EA%B0%80-%EA%B8%B0%EB%8A%A5%EB%93%A4" id="markdown-toc-selenium-추가-기능들">Selenium 추가 기능들</a><ol>
<li><a href="#%EB%A1%9C%EB%94%A9-%EB%8C%80%EA%B8%B0-wait" id="markdown-toc-로딩-대기-wait">로딩 대기 (Wait)</a></li>
<li><a href="#iframe-%EC%86%8D-%EC%9A%94%EC%86%8C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" id="markdown-toc-iframe-속-요소-다루기">iframe 속 요소 다루기</a></li>
<li><a href="#select-%EC%9A%94%EC%86%8C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" id="markdown-toc-select-요소-다루기">Select 요소 다루기</a></li>
<li><a href="#scroll-down-keys-%ED%99%9C%EC%9A%A9" id="markdown-toc-scroll-down-keys-활용">Scroll Down (Keys 활용)</a></li>
<li><a href="#headless-%EB%AA%A8%EB%93%9C%EB%A1%9C-%EC%9D%B4%EC%9A%A9" id="markdown-toc-headless-모드로-이용">Headless 모드로 이용</a></li>
</ol>
</li>
<li>
<a href="#window%EC%B0%BD-%EC%A0%9C%EC%96%B4" id="markdown-toc-window창-제어">window(창) 제어</a><ol>
<li><a href="#%EC%B0%BD-%ED%81%AC%EA%B8%B0-%EC%A1%B0%EC%A0%88-%EB%B0%8F-%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7" id="markdown-toc-창-크기-조절-및-스크린샷">창 크기 조절 및 스크린샷</a></li>
<li><a href="#%EC%9B%B9-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%B0%BD-%EC%97%AC%EB%9F%AC-%EA%B0%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" id="markdown-toc-웹-브라우저-창-여러-개-다루기">웹 브라우저 창 여러 개 다루기</a></li>
</ol>
</li>
</ol></details><hr>
<p class="text-purple-300">*Selenium: 웹 브라우저를 자동화하는 도구. 웹 자동 테스트, 데이터 수집 등에 사용</p>
<h2 id="selenium-기초"> <a href="#selenium-%EA%B8%B0%EC%B4%88" aria-labelledby="selenium-기초" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Selenium 기초</h2>
<p>*Selenium 사용을 위한 준비 사항:</p>
<ul>
<li>pip이나 conda를 활용해서 install해줘야 한다</li>
<li>driver를 다운받아야 함 (<a href="https://sites.google.com/a/chromium.org/chromedriver/downloads" target="_blank">크롬드라이버 다운</a>)</li>
</ul>
<h3 id="driver-실행-및-종료"> <a href="#driver-%EC%8B%A4%ED%96%89-%EB%B0%8F-%EC%A2%85%EB%A3%8C" aria-labelledby="driver-실행-및-종료" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> driver 실행 및 종료</h3>
<ol>
<li>driver 실행<ul><li>아래 코드대로 실행하면, chromedriver가 켜진다</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>   <span class="c1"># import해줘야 사용 가능
</span>
 <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>    <span class="c1">## driver 경로 적어주기
</span>     <span class="c1"># driver가 같은 파일에 있으면 그냥 이렇게만 써도 된다: `driver = webdriver.Chrome()`
</span></code></pre></div></div>
</li>
<li>URL 접속하기<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://chaelist.github.io/'</span><span class="p">)</span>  <span class="c1"># chromedriver가 해당 url에 접속된다
</span></code></pre></div></div>
</li>
<li>driver 종료<ul><li>driver로 필요한 작업을 모두 수행한 후에는 종료하는 것이 좋다</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span><span class="p">.</span><span class="n">quit</span><span class="p">()</span>  <span class="c1">## 창이 하나만 열려 있다면 `driver.close()`이라고 해도 됨
</span></code></pre></div></div>
</li>
</ol>
<h3 id="웹브라우저-제어하기"> <a href="#%EC%9B%B9%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%A0%9C%EC%96%B4%ED%95%98%EA%B8%B0" aria-labelledby="웹브라우저-제어하기" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 웹브라우저 제어하기</h3>
<ol>
<li>현재 url 가져오기<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">current_url</span>
</code></pre></div></div>
</li>
<li>뒤로가기(이전 페이지로 이동)<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">back</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>앞으로가기(이후 페이지로 이동)<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">forward</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>새로고침하기<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">refresh</span><span class="p">()</span>
</code></pre></div></div>
</li>
</ol>
<h3 id="find_elements"> <a href="#find_elements" aria-labelledby="find_elements" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> find_element(s)</h3>
<ul>
<li>find_element 계열은 첫번째로 찾아지는 요소 하나만을 반환</li>
<li>find_elements 계열은 list 형태로 찾아지는 모든 요소를 반환</li>
</ul>
<ol>
<li>find_element(s)_by_css_selector<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'summary.fs-5'</span><span class="p">)</span>   <span class="c1"># &lt;summary class="fs-5"&gt; 태그
</span></code></pre></div></div>
<ul>
<li>element를 받아와서 클릭하거나, 값을 입력하거나, 필요한 text를 추출하면 된다<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element</span><span class="p">.</span><span class="n">text</span>  <span class="c1">## .text를 해주면 해당 element에 들어있는 text를 추출할 수 있음
</span></code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 'Python 기초'
</code></pre></div></div>
</li>
<li>cf) <code class="language-plaintext highlighter-rouge">element.get_attribute('innerHTML')</code>도 <code class="language-plaintext highlighter-rouge">element.text</code>와 같이 안에 있는 text를 추출</li>
<li>cf)<code class="language-plaintext highlighter-rouge">element.get_attribute('outerHTML')</code>: 태그와 text를 모두 보여줌<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element</span><span class="p">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">'outerHTML'</span><span class="p">)</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> '&lt;summary class="fs-5 fw-500"&gt; Python 기초 &lt;/summary&gt;'
</code></pre></div></div>
</li>
</ul>
<p>+) 일치하는 모든 요소를 list로 받아오기</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element_list</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">'summary.fs-5'</span><span class="p">)</span>

 <span class="p">[</span><span class="n">element</span><span class="p">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">element_list</span><span class="p">]</span>  <span class="c1"># list의 각 요소에 접근해 text를 추출
</span></code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['Python 기초', 'Data Handling', 'Numpy', 'Pandas', '데이터 시각화', 'Web Scraping']
</code></pre></div></div>
</li>
<li>find_element(s)_by_tag_name<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_tag_name</span><span class="p">(</span><span class="s">'footer'</span><span class="p">)</span>  <span class="c1"># &lt;footer&gt; 태그
</span></code></pre></div></div>
</li>
<li>find_element(s)_by_class_name<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_class_name</span><span class="p">(</span><span class="s">'main'</span><span class="p">)</span>  <span class="c1"># &lt;div class="main"&gt; 태그
</span></code></pre></div></div>
</li>
<li>find_element_by_id<ul><li>id는 늘 하나뿐이기에, find_element_by_id는 존재하지 않는다</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">'contents'</span><span class="p">)</span>  <span class="c1"># &lt;h1 id="contents"&gt; 태그
</span></code></pre></div></div>
</li>
<li>find_element(s)_by_xpath<ul>
<li>xpath(XML Path Language)를 통해 특정 element를 접근할 수 있다</li>
<li>개발자 모드(ctrl+shift+i)에서 특정 태그의 xpath를 쉽게 복사 가능.</li>
<li>보통, 복사해 온 xpath를 “"”xpath””” 이렇게 적어준다 (흔히 xpath 안에 따옴표가 들어가기에, “”” 안에 넣어주는 것)</li>
</ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"""//*[@id="main-content"]/footer/p"""</span><span class="p">)</span> 
</code></pre></div></div>
</li>
</ol>
<h3 id="click"> <a href="#click" aria-labelledby="click" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> click()</h3>
<ul><li>element.click(): 해당 element를 클릭하는 효과</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># naver.com에서 [NAVER 로그인] 버튼 누르기
</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
<span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"a.link_login"</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>
</code></pre></div></div>
<h3 id="send_keys"> <a href="#send_keys" aria-labelledby="send_keys" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> send_keys()</h3>
<ul><li>element.send_keys(): 해당 element에 값을 입력하는 효과</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># (위 코드에서 연결) ID를 입력하는 부분을 찾아서, 'Your ID'라는 값을 입력하기
</span><span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"#id"</span><span class="p">).</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'Your ID'</span><span class="p">)</span>
</code></pre></div></div>
<p>→ 네이버 로그인 자동화 코드 FULL</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
<span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"a.link_login"</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># [NAVER 로그인] 링크 누르기
</span>
<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"#id"</span><span class="p">).</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'Your ID'</span><span class="p">)</span>  <span class="c1"># ID를 입력
</span><span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"#pw"</span><span class="p">).</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'Your Password'</span><span class="p">)</span>  <span class="c1"># Password를 입력
</span>

<span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"log.login"</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># [로그인] 버튼 누르기
</span></code></pre></div></div>
<h2 id="selenium-추가-기능들"> <a href="#selenium-%EC%B6%94%EA%B0%80-%EA%B8%B0%EB%8A%A5%EB%93%A4" aria-labelledby="selenium-추가-기능들" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Selenium 추가 기능들</h2>
<h3 id="로딩-대기-wait"> <a href="#%EB%A1%9C%EB%94%A9-%EB%8C%80%EA%B8%B0-wait" aria-labelledby="로딩-대기-wait" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 로딩 대기 (Wait)</h3>
<p>Selenium은 웹과 직접 상호작용하기 때문에, 웹의 요소들이 로딩될 때까지 기다리지 않으면 error가 날 때가 있다. 웹 요소들이 로딩될 때까지 기다려주는 것을 Wait이라고 한다.</p>
<ol>
<li>Implicit Wait<ul>
<li>처음에 한 번 설정해 주면, 찾으려는 웹 요소가 없을 때마다 최대 X초를 암묵적으로 기다려 준다</li>
<li>만약 설정한 시간보다 빨리 요소가 찾아지면, 더 기다리지 않고 다음 코드로 넘어간다</li>
<li>ex) <code class="language-plaintext highlighter-rouge">driver.implicitly_wait(3)</code>: 웹 요소가 존재할 때까지 (찾아질 때까지) 최대 3초를 기다려준다</li>
</ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># 이렇게 driver에 맨 처음 한 번만 설정해두면 된다
</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

 <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"a.link_login"</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># [NAVER 로그인] 버튼 누르기
</span></code></pre></div></div>
</li>
<li>time.sleep()<ul>
<li>time.sleep()도 코드 진행을 멈춰서 로딩을 기다려 줄 수 있는 방법 중 하나.</li>
<li>
<code class="language-plaintext highlighter-rouge">time.sleep(3)</code>을 코드 중간에 넣어주면, 정확히 3초간 멈췄다가 아래 코드로 넘어간다</li>
</ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">time</span>  <span class="c1"># import해줘야 사용 가능
</span>
 <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

 <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># 페이지가 로딩되길 3초 동안 기다렸다가 아래 코드로 넘어간다
</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">"a.link_login"</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># [NAVER 로그인] 버튼 누르기
</span></code></pre></div></div>
<p>※implicitly_wait(3)은 찾고자 하는 요소가 1초만에 찾아지면 더 기다리지 않고 진행되지만, time.sleep(3)은 반드시 3초를 모두 멈췄다가 진행되기에 implictly_wait(3)이 더 효율적인 경우가 많다</p>
</li>
<li>Explicit Wait<ul>
<li>특정 element에 대해 어떤 상태가 될 때까지 최대 얼마나 기다려줄 것인지를 일일이 명시해주는 것.</li>
<li>Implicit Wait과 Explicit Wait을 동시에 사용하는 것은 권장되지 않는다.</li>
</ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">## 아래 3가지를 추가로 import해줘야 한다
</span> <span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
 <span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
 <span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="kn">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">EC</span>

 <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>

 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://chaelist.github.io/'</span><span class="p">)</span>

 <span class="c1"># &lt;summary class="fs-5"&gt; 태그가 존재할 때까지 최대 5초를 기다려서 element를 받아온다
</span> <span class="n">element</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">5</span><span class="p">).</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="p">.</span><span class="n">presence_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="s">"summary.fs-5"</span><span class="p">)))</span>
 <span class="n">element</span><span class="p">.</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># 위에서 받아온 element를 클릭
</span></code></pre></div></div>
<div class="code-example">
<p><strong>*다양한 wait조건들*</strong></p>
<ul>
<li>
<code class="language-plaintext highlighter-rouge">presence_of_element_located()</code>: element가 존재할 때까지 기다림<ul><li>특정 값을 추출해오는 목적이라면 presence만 체크해도 괜찮다</li></ul>
</li>
<li>
<code class="language-plaintext highlighter-rouge">visibility_of_element_located()</code>: element가 실제로 보이는 상태가 될 때까지 기다림<ul><li>element와 interact해서 반응을 체크하는 등의 목적이라면 visibility까지 체크해주는 게 좋다</li></ul>
</li>
<li>
<code class="language-plaintext highlighter-rouge">element_to_be_clickable()</code>: element가 클릭 가능한 상태가 될 때까지 기다림<ul><li>element를 찾아서 클릭하려는 목적이라면 clickable한지 체크해주는 게 좋다</li></ul>
</li>
<li>
<code class="language-plaintext highlighter-rouge">invisibility_of_element_located()</code>: element가 안 보일 때까지 기다림.</li>
<li>
<code class="language-plaintext highlighter-rouge">text_to_be_present_in_element()</code>: element 안에 텍스트가 로딩될 때까지 기다림.<ul><li>
<code class="language-plaintext highlighter-rouge">text_to_be_present_in_element(locator, 확인하고자 하는 text)</code> 이렇게 두 개의 값을 넣어줘야 한다</li></ul>
</li>
</ul>
</div>
<p>→ 네이버 로그인 자동화 코드 각 줄에 Explicit Wait 사용해보기</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
 <span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
 <span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
 <span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="kn">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">EC</span>

 <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

 <span class="n">wait</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># 아래에서 모두 같은 시간(3초)을 설정해줄 거면 이렇게 미리 저장해둬도 된다
</span>
 <span class="c1"># [NAVER 로그인] 링크가 clickable 상태가 될 때까지 최대 3초 기다려서 클릭하기
</span> <span class="n">login_link</span> <span class="o">=</span> <span class="n">wait</span><span class="p">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="p">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="s">'a.link_login'</span><span class="p">)))</span>
 <span class="n">login_link</span><span class="p">.</span><span class="n">click</span><span class="p">()</span>

 <span class="c1"># ID 입력창이 visible할 때까지 최대 3초 기다려서 ID 입력하기
</span> <span class="n">id_box</span> <span class="o">=</span> <span class="n">wait</span><span class="p">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="p">.</span><span class="n">visibility_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="s">'#id'</span><span class="p">)))</span>
 <span class="n">id_box</span><span class="p">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'Your ID'</span><span class="p">)</span>  <span class="c1"># ID를 입력
</span>
 <span class="c1"># Password 입력창이 visible할 때까지 최대 3초 기다려서 Password 입력하기
</span> <span class="n">password_box</span> <span class="o">=</span> <span class="n">wait</span><span class="p">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="p">.</span><span class="n">visibility_of_element_located</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">CSS_SELECTOR</span><span class="p">,</span> <span class="s">'#pw'</span><span class="p">)))</span>
 <span class="n">password_box</span><span class="p">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">'Your Password'</span><span class="p">)</span> 

 <span class="c1"># [로그인] 버튼이 clickable 상태가 될 때까지 최대 3초 기다려서 클릭하기
</span> <span class="n">login_button</span> <span class="o">=</span> <span class="n">wait</span><span class="p">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="p">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="p">.</span><span class="n">ID</span><span class="p">,</span> <span class="s">'log.login'</span><span class="p">)))</span>
 <span class="n">login_button</span><span class="p">.</span><span class="n">click</span><span class="p">()</span>  <span class="c1"># [로그인] 버튼 누르기
</span></code></pre></div></div>
</li>
</ol>
<h3 id="iframe-속-요소-다루기"> <a href="#iframe-%EC%86%8D-%EC%9A%94%EC%86%8C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" aria-labelledby="iframe-속-요소-다루기" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> iframe 속 요소 다루기</h3>
<ul>
<li> <ifame> 태그: HTML 문서 안에 또 다른 HTML 문서를 삽입할 때 사용하는 태그. </ifame>
</li>
<li>흔히 광고 같은 서드파티 콘텐츠를 하나의 iframe 안에 담는다</li>
</ul>
<ol>
<li>
<p>iframe 태그는 실제 HTML 문서를 담고 있는 것이 아니라 HTML 문서를 참조하기 때문에, iframe 안에 있는 element가 개발자도구에서는 찾아진다 해도 Selenium으로 찾으려고 하면 실패한다</p>
<p>ex) naver.com의 아래 ‘트렌드쇼핑’ 영역은 하나의 iframe 안에 담겨 있다 <img src="../../../assets/images/selenium/naver_iframe_example.jpg" alt="Naver_iframe_example"></p>
<p>→ <code class="language-plaintext highlighter-rouge">li.goods_item</code> (광고 아이템 리스트)은 iframe 안에 들어있기에, 아래와 같이 코드를 쓰면 가져올 수 없다</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># 원하는 결과가 나오지 않는 코드
</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

 <span class="n">element_list</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">'li.goods_item'</span><span class="p">)</span>
 <span class="p">[</span><span class="n">element</span><span class="p">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">element_list</span><span class="p">]</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> []
</code></pre></div></div>
</li>
<li>
<p>iframe에 있는 코드를 접근하려면 iframe으로 이동해야 한다 – <code class="language-plaintext highlighter-rouge">driver.switch_to.frame()</code>을 사용하면 프레임으로 이동하는 것이 가능</p>
<p>*<code class="language-plaintext highlighter-rouge">li.goods_item</code> (광고 아이템 리스트)가 담긴 iframe은 <code class="language-plaintext highlighter-rouge">&lt;iframe id="shopcast_iframe"&gt;</code></p>
<p>→ 해당 iframe으로 이동하려면 다음과 같은 코드 중 하나를 써주면 된다</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># 1) 웹 요소 파라미터로 사용
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#shopcast_iframe'</span><span class="p">)</span>

 <span class="c1"># 2) iframe의 id 또는 name 속성값 사용
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="s">'shopcast_iframe'</span><span class="p">)</span>

 <span class="c1"># 3)iframe 인덱스 사용
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>   <span class="c1">##찾은 iframe 태그가 3번째 iframe이여서
</span></code></pre></div></div>
</li>
<li>
<p>최종: <code class="language-plaintext highlighter-rouge">#shopcast_iframe</code> iframe으로 이동해서 <code class="language-plaintext highlighter-rouge">li.goods_item</code> element에 접근, text 가져오기</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

 <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

 <span class="c1"># 'mainFrame'으로 이동
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="s">'shopcast_iframe'</span><span class="p">)</span>

 <span class="n">element_list</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">'li.goods_item'</span><span class="p">)</span>

 <span class="p">[</span><span class="n">element</span><span class="p">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">element_list</span><span class="p">]</span>  <span class="c1"># 아래 text는 광고가 그때그때 달라지므로 계속 가져올때마다 바뀜.
</span></code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['올겨울 최강한파~\n포근하고따뜻한옷',
 '살균수가대신해요\n변기살균청소까지',
 '서둘러요~최대80%\n고민하면 놓쳐요!',
 '이렇게 쉬워도돼?\n완전~중독됐어!',
 '이렇게 맛있는데\n왜너만몰라?',
 '최대 50% SALE\n시즌오프 진행중!',
 '북극발한파 추위~\nBEST롱패딩64%↓',
 '미려한 디자인~\n한눈에 반했어!',
 '자신있는 퀄리티\n귀걸이 당일발송',
 '운동복 일상복OK\n겨울초특가세일',
 '비싸게사지마~\n퀄리티 비교불가!',
 'KF94 100장쟁여\n장당200원대 특가',
 '그윽한 분위기 아이팔레트',
 '목욕탕대신 이거! 지금3+1']
</code></pre></div></div>
</li>
</ol>
<p>+) <strong>Nested iframes</strong></p>
<ul><li>‘A’ iframe 안에 ‘B’ iframe이 들어있다면, 메인 페이지에서 바로 B로 들어갈 수는 없다. 아래와 같이 순서대로 switch해줘야 함.</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'URL'</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="s">'A'</span><span class="p">)</span>
<span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="s">'B'</span><span class="p">)</span>
</code></pre></div></div>
<p>+) <strong>iframe에서 밖으로 / 상위 iframe으로 나오기</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 상위 iframe으로 이동
</span><span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">parent_frame</span><span class="p">()</span>

<span class="c1"># 웹 페이지 / 최상위 프레임 / 메인 프레임으로 이동 
</span><span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">default_content</span><span class="p">()</span>
</code></pre></div></div>
<h3 id="select-요소-다루기"> <a href="#select-%EC%9A%94%EC%86%8C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" aria-labelledby="select-요소-다루기" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Select 요소 다루기</h3>
<p>*Select요소: 드롭다운 메뉴에서 여러 옵션 중 하나를 선택하는 형태의 웹 요소 (아래 예시) <img src="../../../assets/images/selenium/nec_select_example.jpg" alt="NEC_Select_example"></p>
<ul><li>Select 요소는 select 태그로 돼있고, 안에 있는 옵션들은 option 태그로 되어 있다.<ul>
<li>select 태그 예시: <code class="language-plaintext highlighter-rouge">&lt;select id='cityCode' name='cityCode' tabindex="3"&gt;</code>
</li>
<li>option 태그 예시: <code class="language-plaintext highlighter-rouge">&lt;option value="1100" &gt;서울특별시&lt;/option&gt;</code>
</li>
</ul>
</li></ul>
<p>*Select 요소는 각 element를 찾아서 클릭하는 방식으로 다뤄도 되지만, 아래와 같이 Selenium의 ‘Select’를 사용하면 훨씬 간단하게 다룰 수 있다.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">Select</span>   <span class="c1"># Select 툴을 import해준다
</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
<span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://info.nec.go.kr/main/showDocument.xhtml?electionId=0020200415&topMenuId=CP&secondMenuId=CPRI03'</span><span class="p">)</span>

<span class="n">driver</span><span class="p">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># '국회의원선거'탭 클릭 
</span><span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#electionId2'</span><span class="p">).</span><span class="n">click</span><span class="p">()</span>

<span class="c1"># select 웹 요소를 찾아서 Select 안에 넣어 준다
</span><span class="n">cityCode_select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#cityCode'</span><span class="p">))</span>  <span class="c1"># &lt;select id='cityCode'&gt; 태그
</span>
<span class="c1"># '서울특별시' option 선택
</span><span class="n">cityCode_select</span><span class="p">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="s">'서울특별시'</span><span class="p">)</span>
</code></pre></div></div>
<p>cf) Select 요소에서 option을 선택하는 다양한 방법</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1) 옵션 이름으로 선택 (웹사이트에서 보이는 옵션 이름)
</span><span class="n">cityCode_select</span><span class="p">.</span><span class="n">select_by_visible_text</span><span class="p">(</span><span class="s">'서울특별시'</span><span class="p">)</span>
 
<span class="c1"># 2) 옵션의 value로 선택 ('서울특별시' 옵션의 value는 1100)
</span><span class="n">cityCode_select</span><span class="p">.</span><span class="n">select_by_value</span><span class="p">(</span><span class="s">'1100'</span><span class="p">)</span>
 
<span class="c1"># 3) 옵션의 인덱스로 선택 ('서울특별시'는 두 번째 옵션)
</span><span class="n">cityCode_select</span><span class="p">.</span><span class="n">select_by_index</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>
<h3 id="scroll-down-keys-활용"> <a href="#scroll-down-keys-%ED%99%9C%EC%9A%A9" aria-labelledby="scroll-down-keys-활용" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scroll Down (Keys 활용)</h3>
<p>scroll down해줘야만 아래에 있는 element가 로딩되는 경우가 많다.</p>
<ol>
<li>100번 scroll down하기<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>  <span class="c1">## Keys를 import해준다
</span> 
 <span class="n">body</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_tag_name</span><span class="p">(</span><span class="s">"body"</span><span class="p">)</span>  <span class="c1"># &lt;body&gt; element 저장해두기
</span> <span class="n">pagedowns</span> <span class="o">=</span> <span class="mi">1</span>

 <span class="k">while</span> <span class="n">pagedowns</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
     <span class="n">body</span><span class="p">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">PAGE_DOWN</span><span class="p">)</span>  <span class="c1">#scroll down
</span>     <span class="c1">### ---작업--- ###
</span>     <span class="n">pagedowns</span> <span class="o">+=</span> <span class="mi">1</span>

 <span class="n">driver</span><span class="p">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>특정 조건이 만족될 때까지 scroll down<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">#--예시1----------------------------------------------
</span> <span class="n">body</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_tag_name</span><span class="p">(</span><span class="s">"body"</span><span class="p">)</span> 
 <span class="n">month</span> <span class="o">=</span> <span class="mi">0</span>

 <span class="k">while</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>   <span class="c1">## 1월~9월까지만 데이터를 가져오려는 경우
</span>     <span class="n">body</span><span class="p">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">PAGE_DOWN</span><span class="p">)</span>  <span class="c1">#scroll down
</span>     <span class="c1">### ---작업--- ###
</span>

 <span class="c1">#--예시2----------------------------------------------
</span> <span class="n">body</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_tag_name</span><span class="p">(</span><span class="s">"body"</span><span class="p">)</span> 
 <span class="n">app_list</span> <span class="o">=</span> <span class="p">[]</span>

 <span class="k">while</span> <span class="s">'애니팡'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">app_list</span><span class="p">:</span>   <span class="c1">## '애니팡' 데이터가 수집될 때까지 scroll down
</span>     <span class="n">body</span><span class="p">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="n">PAGE_DOWN</span><span class="p">)</span>  <span class="c1">#scroll down
</span>     <span class="c1">### ---작업--- ###
</span>        
</code></pre></div></div>
</li>
</ol>
<h3 id="headless-모드로-이용"> <a href="#headless-%EB%AA%A8%EB%93%9C%EB%A1%9C-%EC%9D%B4%EC%9A%A9" aria-labelledby="headless-모드로-이용" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Headless 모드로 이용</h3>
<p>*Headless 모드: 웹 브라우저가 눈에 보이지 않는 상태로, 백그라운드에서 실행되는 모드</p>
<ul><li>Headless 모드를 사용하면 컴퓨터의 자원(CPU, RAM 등)이 덜 소모되고, 더 빠르게 동작한다</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.options</span> <span class="kn">import</span> <span class="n">Options</span>  <span class="c1"># Options를 별도로 import
</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="n">options</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"--headless"</span><span class="p">)</span>  <span class="c1">## headless 모드로 설정
</span><span class="n">options</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">"window-size=1920,1080"</span><span class="p">)</span> <span class="c1">## 브라우저 창 크기 설정(1920x1080) - 너무 크기가 작으면 로딩이 잘 안될 수 있다
</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

<span class="c1">## -- 작업 -- ##
</span></code></pre></div></div>
<h2 id="window창-제어"> <a href="#window%EC%B0%BD-%EC%A0%9C%EC%96%B4" aria-labelledby="window창-제어" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> window(창) 제어</h2>
<h3 id="창-크기-조절-및-스크린샷"> <a href="#%EC%B0%BD-%ED%81%AC%EA%B8%B0-%EC%A1%B0%EC%A0%88-%EB%B0%8F-%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7" aria-labelledby="창-크기-조절-및-스크린샷" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 창 크기 조절 및 스크린샷</h3>
<ol>
<li>풀스크린으로 보기<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">fullscreen_window</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>창 크기 최대화(□)<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">maximize_window</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>창 크기 최소화(-)<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">minimize_window</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>창 코기 조절<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="p">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span> <span class="c1"># 창 크기 (800, 600)으로 설정
</span></code></pre></div></div>
</li>
<li>스크린샷 저장<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span><span class="p">.</span><span class="n">get_screenshot_as_file</span><span class="p">(</span><span class="s">'image.png'</span><span class="p">)</span> <span class="c1"># image.png라는 파일에 스크린샷 저장
</span>         <span class="c1">## driver.save_screenshot('image.png)라고 해도 동일한 효과
</span></code></pre></div></div>
<p>+) 특정 부분만 캡처하기</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># 예시: naver.com 메인 배너 광고 부분만 캡처하기
</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.naver.com/'</span><span class="p">)</span>

 <span class="n">element</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_element_by_css_selector</span><span class="p">(</span><span class="s">'#veta_top'</span><span class="p">)</span>  <span class="c1"># 캡처할 element를 선택해준다
</span>
 <span class="n">element_png</span> <span class="o">=</span> <span class="n">element</span><span class="p">.</span><span class="n">screenshot_as_png</span>
 <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"naver_main_banner.png"</span><span class="p">,</span> <span class="s">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>   <span class="c1">## naver_main_baneer.png라는 파일에 저장
</span>     <span class="nb">file</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">element_png</span><span class="p">)</span>

 <span class="n">driver</span><span class="p">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div></div>
</li>
</ol>
<h3 id="웹-브라우저-창-여러-개-다루기"> <a href="#%EC%9B%B9-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%B0%BD-%EC%97%AC%EB%9F%AC-%EA%B0%9C-%EB%8B%A4%EB%A3%A8%EA%B8%B0" aria-labelledby="웹-브라우저-창-여러-개-다루기" class="anchor-heading"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 웹 브라우저 창 여러 개 다루기</h3>
<p>: 웹사이트에서 링크를 클릭하면 새로운 창에 웹사이트가 열리는 경우에 유용.</p>
<p>ex) 쿠팡의 경우, 상품을 클릭하면 상품의 상세 페이지가 새로운 창으로 열린다.</p>
<ol>
<li>쿠팡 ‘커피’ 검색 결과 페이지 접속 → 첫번째 item 클릭<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">time</span>
 <span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

 <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="s">'driver/chromedriver.exe'</span><span class="p">)</span>
 <span class="n">driver</span><span class="p">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

 <span class="c1"># 쿠팡 '커피' 검색 결과 페이지 접속
</span> <span class="n">driver</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://www.coupang.com/np/search?component=&q=%EC%BB%A4%ED%94%BC&channel=user'</span><span class="p">)</span>
 <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

 <span class="c1"># 첫번째 item을 찾아서 클릭
</span> <span class="n">products</span> <span class="o">=</span> <span class="n">driver</span><span class="p">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">'li.search-product'</span><span class="p">)</span>
 <span class="n">products</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">click</span><span class="p">()</span>
</code></pre></div></div>
<p>→ 첫 번째 아이템에 대한 상세 페이지가 새로운 탭에 열린다.</p>
<ul>
<li>※ 하지만 현재 웹 브라우저에서 열린 탭과, Selenium이 포커스된 탭은 다르다</li>
<li>Selenium이 포커스된 탭은, Selenium 웹 드라이버가 현재 ‘다루고 있는’ 탭으로, 직접 설정해줘야 바뀐다.</li>
<li>그렇기 때문에 아래와 같이 두번째 item을 클릭하는 코드를 써줘도 자연스럽게 실행되어 새로운 탭이 1개 더 열린다. (탭 총 3개)</li>
</ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">products</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">click</span><span class="p">()</span>
</code></pre></div></div>
</li>
<li>Selenium이 포커스된 탭 바꾸기: <code class="language-plaintext highlighter-rouge">driver.switch_to.window(driver.window_handles[i])</code><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1"># 열려 있는 탭 리스트 조회
</span> <span class="k">print</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">window_handles</span><span class="p">)</span>

 <span class="c1"># 현재 포커스된 탭 -- 아직 탭을 바꿔주지 않았기 때문에 처음 .get()으로 접속한 탭 (=첫번째 탭)
</span> <span class="k">print</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">current_window_handle</span><span class="p">)</span>

 <span class="c1"># 두 번째 탭으로 바꿔주기
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">window</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">window_handles</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

 <span class="c1"># 현재 포커스된 탭 -- 이제 두번째 탭으로 바뀌었음을 확인 가능
</span> <span class="k">print</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">current_window_handle</span><span class="p">)</span>
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['CDwindow-9C390D79522E1EAE4B301DD80A05D3FA', 'CDwindow-83BB35AAF356770405A2644797340DE6', 'CDwindow-E2CFF69328DFC8E29C4DF6DA6F16967F']
 CDwindow-9C390D79522E1EAE4B301DD80A05D3FA
 CDwindow-83BB35AAF356770405A2644797340DE6
</code></pre></div></div>
</li>
<li>
<code class="language-plaintext highlighter-rouge">driver.close</code>로 현재 포커스된 탭 닫기<ul><li>더 이상 안쓰는 탭을 계속 열어두면 자원이 소모되기에 그때그때 닫아주는 것이 좋다.</li></ul>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">driver</span><span class="p">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># 탭 닫기
</span> <span class="n">driver</span><span class="p">.</span><span class="n">switch_to</span><span class="p">.</span><span class="n">window</span><span class="p">(</span><span class="n">driver</span><span class="p">.</span><span class="n">window_handles</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 포커스된 탭이 없어졌으므로, 다시 첫번째 탭으로 포커스를 이동시킨다
</span></code></pre></div></div>
</li>
</ol>
<hr>
<footer><p class="text-small text-grey-dk-000 mb-0">Copyright © 2021 Chaeyun.<br>This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a Jekyll theme.</p></footer>
</div>
</div>
<div class="search-overlay"></div>
</div>
</body>
</html>
